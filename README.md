# Test_script_Jmeter

Пример скрипта для нагрузочного тестирования сайта webtours.load-test.ru

Скрипт, выполняет следующие действия:

1. Открытие страницы http://webtours.load-test.ru:1080/webtours (в запросе root/cgi-bin/nav.pl-5 вытаскиваем userSession с помощью Regular Expression Extractor)
2. Вход в систему под заранее созданными пользователями с помощью CSV Data Set Config (вход в систему (запрос login/cgi-bin/login.pl-6) можно проводить либо с помощью тестового логина/пароля из файла и переменной userSession из предыдущего запроса, либо поставить заглушку на запрос и получать всегда один ответ "Autorized!", заглушка развёрнута на локалхосте с помощью WireMock, http://localhost:8080/__admin/mappings)
3. Переход на страницу "Flights", выбор случайного города отправления и прибытия (вытаскиваем список городов с помощью Regular Expression Extractor)
4. В половине случаев скрипт должен покупать билеты "туда", а в половине случаев "туда-обратно" (распределяем пропорции с помощью Counter и If Controller)
5. Покупка билета (подставляем все необходимые переменные в параметры запроса)
6. Переход на корневую страницу
